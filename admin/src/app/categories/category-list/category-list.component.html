<mat-toolbar>
  <mat-toolbar-row>
    <span class="title">{{ 'categories.list.title' | translate }}</span>
    <button mat-raised-button color="primary"
      (click)="onNewButtonClick()">{{ 'common.new-button' | translate }}</button>
  </mat-toolbar-row>
</mat-toolbar>
<div style="padding-left: 24px; font-size: x-large">
  <div class="mat-elevation-z8">
    <mat-table [dataSource]="dataSource" matSort>

      <ng-container matColumnDef="id">
        <mat-header-cell *matHeaderCellDef mat-sort-header>{{ 'categories.caption.code' | translate }}</mat-header-cell>
        <mat-cell *matCellDef="let element;let i = index">
          <mat-form-field *ngIf="getControl(i, '_isNew').value">
            <input matInput [formControl]="getControl(i, 'id')" [placeholder]="'categories.caption.code' | translate">
            <mat-error *ngIf="getControl(i, 'id').hasError('required')">
              <strong color="red">{{ 'common.errors.field-is-required' | translate }}</strong>
            </mat-error>
          </mat-form-field>
          <div *ngIf="!getControl(i, '_isNew').value" class="row">
            <div class="label">{{ 'categories.caption.code' | translate }}</div>
            <div spacer></div>
            <div class="value">{{ element.id }}</div>
          </div>
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="ua">
        <mat-header-cell *matHeaderCellDef mat-sort-header>{{ 'categories.caption.ua' | translate }}</mat-header-cell>
        <mat-cell *matCellDef="let element;let i = index">
          <mat-form-field>
            <input matInput [formControl]="getControl(i, 'ua')" [placeholder]="'categories.caption.ua' | translate">
            <mat-error *ngIf="getControl(i, 'ua').hasError('required')">
              <strong color="red">{{ 'common.errors.field-is-required' | translate }}</strong>
            </mat-error>
          </mat-form-field>
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="en">
        <mat-header-cell *matHeaderCellDef mat-sort-header>{{ 'categories.caption.en' | translate }}</mat-header-cell>
        <mat-cell *matCellDef="let element;let i = index">
          <mat-form-field>
            <input matInput [formControl]="getControl(i, 'en')" [placeholder]="'categories.caption.en' | translate">
            <mat-error *ngIf="getControl(i, 'en').hasError('required')">
              <strong color="red">{{ 'common.errors.field-is-required' | translate }}</strong>
            </mat-error>
          </mat-form-field>
        </mat-cell>
      </ng-container>

      <!-- Menu Column -->
      <ng-container matColumnDef="menu">
        <mat-header-cell *matHeaderCellDef></mat-header-cell>
        <mat-cell *matCellDef="let element;let i = index">
          <div class="row actions">
            <div class="icon-btn" *ngIf="getControlGroup(i).dirty">
              <mat-icon (click)="onSaveButtonClick(i)" [attr.disabled]="getControlGroup(i).invalid || null">save</mat-icon>
              <button mat-raised-button color="primary" (click)="onSaveButtonClick(i)">{{ 'common.save-button' | translate }}</button>
            </div>
            <div class="icon-btn" >
              <mat-icon (click)="onRemoveButtonClick(i)">delete</mat-icon>
              <button mat-raised-button color="accent" (click)="onRemoveButtonClick(i)">{{ 'common.remove-button' | translate }}</button>
            </div>
          </div>
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

    </mat-table>
  </div>
</div>